import{f as E,h as s,i as n,j as l,m as r,s as S,b as T,C as k,W as w,e as D,p as _,F as A,H as b,A as h,n as x,v as I}from"./vendor.js";import{a as P}from"./datetime.js";import{u as j,j as R,_ as L,d as M,c as N,t as O}from"./index.js";import{_ as V}from"./OpenParticipationModalButton.js";import{B as H}from"./BaseTable.js";const W=E({setup(F){const i=j(),c="\u041D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438 :(",u="\u041F\u043E\u043A\u0430 \u043D\u0430 \u044D\u0442\u043E\u0442 \u043F\u0440\u043E\u0435\u043A\u0442 \u0435\u0449\u0451 \u043D\u0435 \u043F\u043E\u0434\u0430\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438, \u0442\u0430\u043A \u0447\u0442\u043E \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u0441\u0442\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u044B\u043C!";return(d,m)=>(s(),n(R,{title:c,subtitle:u},{button:l(()=>[r(i).openedProject?(s(),n(V,{key:0,project:r(i).openedProject,variant:"primary"},null,8,["project"])):S("",!0)]),_:1}))}});const $=E({setup(F){const i=T(),c=j(),{openedProject:u,loading:d,error:m}=k(c);w(()=>{var a,o;const t=(a=u==null?void 0:u.value)==null?void 0:a.state.id,e=(o=u==null?void 0:u.value)==null?void 0:o.id;e&&t&&!N(t)&&i.replace(O(e))});function v(t){return P.fromISO(t,{locale:"ru-RU"}).toLocaleString(P.DATETIME_MED_WITH_SECONDS)}function y(t){return[...t].sort((e,a)=>new Date(e.updated_at).getTime()*e.priority-new Date(a.updated_at).getTime()*a.priority)}const f=D(()=>{var e;let t=(e=u==null?void 0:u.value)==null?void 0:e.participations;return t?y(t):[]}),B=D(()=>f.value.map(({candidate:t,priority:e,updated_at:a,id:o},p)=>({key:String(o),data:[p+1,t.fio,t.training_group,e,v(a)]})));return(t,e)=>r(u)&&r(f).length>0&&!r(d)&&!r(m)?(s(),n(H,{key:0,class:"table",headers:["\u2116","\u0424\u0418\u041E","\u0413\u0440\u0443\u043F\u043F\u0430","\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u043E\u0441\u0442\u044C","\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438 \u0437\u0430\u044F\u0432\u043A\u0438"],rows:r(B)},{row:l(({row:a,index:o,key:p})=>[(s(),_("tr",{key:p||o,class:x({accepted:o+1<=r(u).places})},[(s(!0),_(A,null,b(a,(C,g)=>(s(),_("td",{key:g},h(C),1))),128))],2))]),_:1},8,["rows"])):(s(),n(M,{key:1},{default:l(()=>[I(W)]),_:1}))}});var K=L($,[["__scopeId","data-v-22bc0034"]]);export{K as default};
