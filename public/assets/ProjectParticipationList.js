import{f as E,h as a,i,j as _,m as e,s as v,C as S,e as j,p as l,F as T,H as k,A,n as b,v as w}from"./vendor.js";import{a as D}from"./datetime.js";import{u as F,f as h,_ as x,b as I}from"./index.js";import{_ as L}from"./OpenParticipationModalButton.js";import{B as M}from"./BaseTable.js";const N=E({setup(P){const s=F(),r="\u041D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438 :(",c="\u041F\u043E\u043A\u0430 \u043D\u0430 \u044D\u0442\u043E\u0442 \u043F\u0440\u043E\u0435\u043A\u0442 \u0435\u0449\u0451 \u043D\u0435 \u043F\u043E\u0434\u0430\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u044F\u0432\u043A\u0438, \u0442\u0430\u043A \u0447\u0442\u043E \u0442\u044B \u043C\u043E\u0436\u0435\u0448\u044C \u0441\u0442\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u044B\u043C!";return(m,d)=>(a(),i(h,{title:r,subtitle:c},{button:_(()=>[e(s).openedProject?(a(),i(L,{key:0,project:e(s).openedProject,variant:"primary"},null,8,["project"])):v("",!0)]),_:1}))}});const O=E({setup(P){const s=F(),{openedProject:r,loading:c,error:m}=S(s);function d(u){return D.fromISO(u,{locale:"ru-RU"}).toLocaleString(D.DATETIME_MED_WITH_SECONDS)}function y(u){return[...u].sort((t,o)=>new Date(t.updated_at).getTime()*t.priority-new Date(o.updated_at).getTime()*o.priority)}const f=j(()=>{var t;const u=(t=r==null?void 0:r.value)==null?void 0:t.participations;return u?y(u):[]}),B=j(()=>f.value.map(({candidate:u,priority:t,updated_at:o,id:n},p)=>({key:String(n),data:[p+1,u.fio,u.training_group,t,d(o)]})));return(u,t)=>e(r)&&e(f).length>0&&!e(c)&&!e(m)?(a(),i(M,{key:0,class:"table",headers:["\u2116","\u0424\u0418\u041E","\u0413\u0440\u0443\u043F\u043F\u0430","\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u043E\u0441\u0442\u044C","\u0412\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0430\u0447\u0438 \u0437\u0430\u044F\u0432\u043A\u0438"],rows:e(B)},{row:_(({row:o,index:n,key:p})=>[(a(),l("tr",{key:p||n,class:b({accepted:n+1<=e(r).places})},[(a(!0),l(T,null,k(o,(C,g)=>(a(),l("td",{key:g},A(C),1))),128))],2))]),_:1},8,["rows"])):(a(),i(I,{key:1},{default:_(()=>[w(N)]),_:1}))}});var U=x(O,[["__scopeId","data-v-899efe44"]]);export{U as default};
